<html>
<head>
 <link href="../style.css" rel="stylesheet" type="text/css">
</head>
<body>
<h3><font color="blue"><b>[TWIG]</b></font> Ўаблон news.categories.tpl</h3>
<br/>
ƒанный шаблон используетс€ дл€ удобной генерации меню категорий (при его отсутствии будет использоватьс€ старый шаблон <a href="categories.tpl.html">categories.tpl</a>).<br/>
¬ отличии от старого варианта, этот шаблон отвечает за генерацию полного меню, а не строки меню.<br/>
<br/>

<h3>ƒоступные переменные</h3>
ѕеременные:
<ul>
 <li><b>entries</b> - массив категорий, каждый элемент массива содержит данные по одной категории:
 	<ul>
 		<li><b>id</b> - ID категории</li>
 		<li><b>cat</b> - наименование категории</li>
 		<li><b>link</b> - ссылка дл€ перехода в категорию</li>
 		<li><b>mark</b> - маркер дл€ категории данного уровн€ (берЄтс€ из variables.ini - блок <b>[category_tree]</b>, параметр <b>mark.level.<”–ќ¬≈Ќ№></b>, а при отсутствии - <b>mark.default</b>)</li>
 		<li><b>level</b> - уровень вложенности категории (0 - в корне)</li>
 		<li><b>counter</b> - кол-во постов в категории</li>
 		<li><b>icon</b> - ссылка на иконку категории</li>
 		<li><b>flags</b> - блок переменных-флагов:
 			<ul>
 				<li><b>active</b> - принимает значение `true` (1) в случае, если сейчас пользователь находитс€ именно в этой категории</li>
 				<li><b>counter</b> - принимает значение `true` (1) в случае, если в настройке CMS разрешено отображение счетчика новостей в категории</li>
 				<li><b>hasChildren</b> - принимает значение `true` (1) в случае, если у данной категории есть подкатегории</li>
 				<li><b>closeLevel_<i>X</i></b> - принимает значение `true` (1) в случае, если данна€ категори€ закрывает собой уровень вложенности `<u><i>X</i></u>`</li>
			</ul>

		</li>
	</ul>

 </li>
</ul>

<br/>
<br/>
<h3>ѕример заполнени€ шаблона</h3>
<br/>
<div class="pre">
<pre>
ћеню категорий:<br/>
{% for entry in entries %}
	&lt;!-- ¬ыводим маркер категории --&gt;
	{{ entry.mark }}

	&lt;!-- ≈сли не стоит флаг `flags.active`, т.е. если эта категори€ - не текуща€, то показываем ссылку --&gt;
	&lt;!-- ¬ текущей категории показываем им€ категории жирным шрифтом --&gt;
	{% if (not entry.flags.active) %}
		&lt;a href="{{ entry.link }}">
	{% else %}
		&lt;b>
	{% endif %}
	{{ entry.cat }}
	{% if (entry.flags.active) %}
		&lt;/a>
	{% else %}
		&lt;/b>
	{% endif %}

	&lt;!-- ќтображаем кол-во новостей в категории только в случае, если выставлен флаг `flags.counter` --&gt;
	{% if (entry.flags.counter) %}
		[ {{ entry.counter }}
	{% endif %}
{% endfor %}
</pre>
</div>

</body>
</html>