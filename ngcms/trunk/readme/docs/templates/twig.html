<html>
<head>
 <link href="../style.css" rel="stylesheet" type="text/css">
</head>
<body>
<h3>Шаблонизатор TWIG</h3>
<br/>
<p>Долгое время в NGCMS использовалась собственная шаблонная система. С одной стороны она давала некоторую гибкость при разработке шаблонов, с другой - лёгкость в реализации.
Основным же недостатком являлись крайне скудные возможности использования условных блоков, что приводило к созданию массы ненужных файлов-шаблонов и не позволяло проявить должную гибкость при создании
шаблонов, значительно отличающихся от "базового" шаблона.</p>
<br/>
<p>Все эти недостатки привели к необходимости найти альтертативу.
И она была найдена - <a href="http://twig.sensiolabs.org/doc/templates.html" target="_blank">компилирующий шаблонизатор TWIG</a>.</p>
<br/>
<p>TWIG объединяет в себе высокую производительность (каждый шаблон автоматически компилируется в чистый PHP код) и огромную гибкость. При этом ядро TWIG'а предусматривает широкие возможности по расширению
базового функционала и даже позволяет обеспечить (в определённых рамках) обратную совместимость с текущим (старым) шаблонизатором.</p>
<br/>
<p>Документацию по TWIG'у можно почитать на сайте разработчика, на этой же странице будет рассказано о глобальных переменных/функциях NGCMS, доступных в любых TWIG шаблонах.</p>
<br/><br/>

<h3>Глобальные функции</h3>
<ul>
 <li><b>pluginIsActive(<font color="blue">$pluginName</font>)</b> - сообщает включен ли плагин <b>$pluginName</b> (1 - активен, 0 - нет), обычно используется для отображения элементов плагина только в том случае, если данный плагин включен (активен).
 	<br/>
 	Пример, выводящий строку '* плагин tags активен *' в случае, если плагин tags включен в админ-панели:<br/>
 	<div class="pre">
 	<pre>
 	{% if pluginIsActive('tags') %}
 		* плагин tags активен *
 	{% endif %}
	</pre>
	</div>
 </li>
 <li><b>localPath(0)</b> - возвращает путь нахождения текущего шаблона, содержимое блока отображается в случае, если для категории определена иконка. Используется в случае, когда вы внутри шаблона хотите подключить другой шаблон из того же каталога.<br/>
 <i>Параметр (0) - обязателен.</i><br/>
 Пример подключения шаблона "conf.navi.tpl" из текущего каталога:
 	<div class="pre">
 	<pre>
	{% include localPath(0) ~ "conf.navi.tpl" %}
	</pre>
	</div>

 </li>
</ul>

<h3>Глобальные переменные</h3>
<ul>
 <li><b>lang</b> - глобальная переменная с языковыми константами, аналогична конструкции <b>{l_<font color="blue">Variable</font>}</b> в старом шаблонизаторе.
 	<br/>
 	Пример:
 	<div class="pre">
 	<pre>
 	{{ lang['Variable'] }}
	</pre>
	</div>
 </li>
 <li><b>skins_url</b> - аналог переменной <b>{skins_url}</b></li>
 <li><b>admin_url</b> - аналог переменной <b>{admin_url}</b></li>
 <li><b>tpl_url</b> - аналог переменной <b>{tpl_url}</b></li>
 <li><b>handler</b> - глобальная переменная <b>$CurrentHandler</b> (массив)</li>
 <li><b>global</b> - специальный массив с различными полезными <u>глобальными</u> параметрами:
 	<ul>
 		<li><b>flags</b> - массив с флагами:
 			<ul>
 				<li><b>isLogged</b> - принимает значение (1) если текущий посетитель - залогиенный пользователь</li>
			</ul>

		</li>
	</ul>

 </li>
</ul>

</body>
</html>