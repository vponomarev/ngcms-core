<html>
<head>
 <link href="../style.css" rel="stylesheet" type="text/css">
</head>
<body>
<h3>Шаблон news.full.tpl</h3>
<br/>
Шаблон отвечает за вывод полной новости.<br/>
Хотя этот шаблон - один из самых важных шаблонов (наравне с шаблоном <b>main.tpl</b> и <b>news.short.tpl</b>),
для его работы требуется всего несколько переменных.<br/>
Самое главное, что необходимо учитывать при разработке собственного шаблона news.full.tpl:
б<u><b>о</b></u>льшая часть функционала реализована при помощи плагинов, а это значит, что в данном шаблоне
вы должны учитывать создаваемые плагинами переменные.<br/>
<br/>

<h3>Доступные блоки/переменные</h3>
Блоки:
<ul>
 <li><b>[edit-news]</b> ... <b>[/edit-news]</b> - если у вас есть права на редактирование этой новости, то содержимое этого блока "оборачивается" в ссылку на редактирование новости</li>
 <li><b>[del-news]</b> ... <b>[/del-news]</b> - если у вас есть права на редактирование этой новости, то содержимое этого блока "оборачивается" в ссылку на удаление новости</li>
 <li><b>[icon]</b> ... <b>[/icon]</b> - содержимое блока отображается в случае, если для текущей новости есть иконка (иконка из категории-родителя новости)</li>
 <li><b>[update]</b> ... <b>[/update]</b> - содержимое блока выводится в случае, если новость редактировалась</li>
 <li><b>[print-link]</b> ... <b>[/print-link]</b> - содержимое блока "оборачивается" ссылкой на версию для печати для текущей новости</li>
 <li><b>[pagination]</b> ... <b>[/pagination]</b> - содержимое блока выводится в случае наличия блока постраничной навигации внутри новости</li>
 <li><b>[page-first]</b> ... <b>[/page-first]</b> - содержимое блока выводится только на первой странице многостраничной новости</li>
 <li><b>[page-next]</b> ... <b>[/page-next]</b> - содержимое блока выводится в многостраничной новости на всех страницах кроме первой</li>
</ul>

Переменные:
<ul>
 <li><b>{title}</b> - заголовок новости</li>
 <li><b>{category}</b> - список подсвеченных ссылками категорий, к которым относится новость</li>
 <li><b>{author}</b> - автор новости (подсвечен ссылкой на профиль пользователя, работу профиля обеспечивает плагин <b>uprofile</b>)</li>
 <li><b>{date}</b> - дата добавления новости (формат даты определяется в: настройки => настройки системы => новости => формат времени для новостей)</li>
 <li><b>{icon}</b> - URL к иконке новости (иконке категории родителя); если у категории-родителя нет иконки, то переменная будет пустой</li>
 <li><b>{update}</b> - дата редактирования новости  (формат даты определяется в: настройки => настройки системы => новости => формат времени для поля 'обновлено'); если новость не обновлялась, то переменная будет пустой</li>
 <li><b>{short-story}</b> - короткая часть новости (в редактировании новости <u>до</u> тега &lt;!--more--&gt;)</li>
 <li><b>{full-story}</b> - длинная часть новости (в редактировании новости <u>после</u> тега &lt;!--more--&gt;)</li>
 <li><b>{pagination}</b> - блок постраничной навигации внутри новости (в случае, если внутри новости нет разделения на страницы, то переменная будет пустой)</li>
 <li><b>{news-id}</b> - ID новости</li>
 <li><b>{news_link}</b> - URL полной новости</li>
 <li><b>{views}</b> - отображается кол-во просмотров новости (количество открытий первой страницы полной новости; заходы поисковых роботов также считаются просмотрами)</li>
</ul>
<br/>

Доступные языковые переменные:
<ul>
<li><b>{l_updated}</b> - текст "обновлено" (для переменной <b>{update}</b>)</li>
<li><b>{l_print}</b> - текст "распечатать" (для блока <b>[print-link]</b>...<b>[/print-link]</b>)</li>
</ul>
<br/>
<br/>

<h3>Связь с другими плагинами</h3>
Существует множество плагинов, которые могут добавлять собственные переменные для обработки в текущем шаблоне.<br/>
Вот некоторые из них (<i>следует учитывать, что переменные выводятся плагинами только в том случае, когда плагины включены</i>):<br/>
<ul>
 <li>Плагин comments:
  <ul>
   <li>Блок <b>[comheader]</b>...<b>[/comheader]</b> - содержимое блока выводится только в том случае, если в новости есть хотябы один комментарий</li>
   <li>Переменная <b>{comnum}</b> - кол-во комментариев к новости</li>
   <li>Переменная <b>{plugin_comments}</b> - на её месте выводятся комментарии к новости и форма добавления новых комментариев (если добавление комментариев разрешено на сайте и не запрещено для данной новости)</li>
   </ul>
 </li>
 <li>Плагин complain:
  <ul>
   <li>Переменная <b>{plugin_complain}</b> - информационный блок плагина <b>complain</b> ("сообщить о проблеме в новости")</li>
  </ul>
 </li>
</ul>


<br/>
<h3>Пример заполнения шаблона</h3>
<br/>
В примере показан минимально набор для полнофункциональной работы (с учётом использования плагина <b>comments</b>):
<div class="pre">
<pre>
&lt;h2>{category} || {title}&lt;/h2>
(c) {author} at {date} [update](changed at {update})[/update]<br/>
Viewed: {views} times[comheader], commented: {comnum} times[/comheader]&lt;br/>
{short-story} {full-story}&lt;br/>
{pagination}
&lt;br/>
{plugin_comments}
</pre>
</div>

</body>
</html>